"use strict";function AudeebleSanitize_JsonObjectDates(n){var t,r,i,u;for(t in n)r=/\/(Date\(-?\d+\))\//g,t!==null&&t!==undefined&&n[t]!==null&&n[t]!==undefined&&(i=n[t],typeof i=="object"?n[t]=AudeebleSanitize_JsonObjectDates(n[t]):typeof i=="string"&&r.test(i)&&(u=i.replace(r,"new $1"),n[t]=eval(u)));return n}function AudeebleUI_ChangeTitleCheckBoxAll(n,t){$(n).length>0&&(t?$(n).attr("title","Désélectionner tous les éléments"):$(n).attr("title","Sélectionner tous les éléments"))}function AudeebleUI_TableCheckUncheckAll(n){var t=$(n).closest("table"),i;t!==null&&t!==undefined&&t.length>0&&(i=$(n).is(":checked"),AudeebleUI_ChangeTitleCheckBoxAll(n,i),$("tbody tr td.ui-col-check input[type=checkbox]",$(t)).prop("checked",i))}function AudeebleUI_TableCheckUncheckValue(n){var t=$(n).closest("table");if(t!==null&&t!==undefined&&t.length>0){var i=$("thead tr th.ui-col-check input[type=checkbox]",$(t)),r=$("tbody tr td.ui-col-check input[type=checkbox]",$(t)).length,u=$("tbody tr td.ui-col-check input[type=checkbox]:checked",$(t)).length;u==r?($(i).prop("checked",!0),AudeebleUI_ChangeTitleCheckBoxAll(i,!0)):($(i).prop("checked",!1),AudeebleUI_ChangeTitleCheckBoxAll(i,!1))}}function AudeebleUI_DisplayModalError(n,t){var r,i,u;t=t===null||t===undefined?"Message":t;r=document.querySelector("#template-generic-modal-error");i=document.importNode(r.content,!0);!$("#ui-audeeble-modal-error").length>0&&(u=$("<div id='ui-audeeble-modal-error'>"),$("body").append(u));$(i).find(".modal-title").html(t);$(i).find(".modal-body").html(n);$("#ui-audeeble-modal-error").html(i);$("#ui-audeeble-modal-error > .modal").modal({keyboard:!1})}function AudeebleUI_DisplayToast(n,t,i=false,r=10){var f,u,e;t=t===null||t===undefined?"Message":t;f=document.querySelector("#template-generic-toast-error");u=document.importNode(f.content,!0);$(u).find(".toast-header-title").html(t);$(u).find(".toast-header-datetime").html((new Date).toLocaleTimeString());$(u).find(".toast-body").html(n);$("#ui-audeeble-toasts > div").append(u);i?(e={autohide:!0,delay:r*1e3},$("#ui-audeeble-toasts > div .toast:last-child").toast(e)):$("#ui-audeeble-toasts > div .toast:last-child").toast({autohide:!1});$("#ui-audeeble-toasts > div .toast:last-child").toast("show")}function AudeebleUI_InitializeCheckBoxAll(n){$("thead tr th.ui-col-check input[type=checkbox]:checked",n).length>0&&$("thead tr th.ui-col-check input[type=checkbox]:checked",n).prop("title","Désélectionner tous les éléments");$("thead tr th.ui-col-check input[type=checkbox]:not(:checked)",n).length>0&&$("thead tr th.ui-col-check input[type=checkbox]:not(:checked)",n).prop("title","Sélectionner tous les éléments")}function AudeebleUI_InitializeTitles(n){AudeebleUI_InitializeCheckBoxAll(n);$(".ui-link-edit:not([title]), .ui-link-edit[title='']",n).attr("title","Éditer");$(".ui-btn-edit:not([title]), .ui-btn-edit[title='']",n).attr("title","Éditer");$(".ui-link-delete:not([title]), .ui-link-delete[title='']",n).attr("title","Supprimer");$(".ui-btn-delete:not([title]), .ui-btn-delete[title='']",n).attr("title","Supprimer");$(".ui-link-add:not([title]), .ui-link-add[title='']",n).attr("title","Ajouter");$(".ui-btn-add:not([title]), .ui-btn-add[title='']",n).attr("title","Ajouter");$(".ui-link-exp-pdf:not([title]), .ui-link-exp-pdf[title='']",n).attr("title","Exporter PDF");$(".ui-btn-exp-pdf:not([title]), .ui-btn-exp-pdf[title='']",n).attr("title","Exporter PDF");$(".ui-link-exp-excel:not([title]), .ui-link-exp-excel[title='']",n).attr("title","Exporter Excel");$(".ui-btn-exp-excel:not([title]), .ui-btn-exp-excel[title='']",n).attr("title","Exporter Excel")}$(document).ready(function(){AudeebleUI_InitializeTitles("body");$(document).bind("DOMNodeInserted",function(n){var t=n.target;$(t).hasClass("insertedInitialized")||(AudeebleUI_InitializeTitles(t),$(t).addClass("insertedInitialized"))})});"use strict";var ajax={resultat:"",xhr:null,erreur:!1,erreurNonBloquante:!1,messageErreur:"",params:{contentType:"application/json; charset=utf-8",affMessageAttente:!0,dataNonStringify:!1,dataType:"json",beforeSend:null,timeout:6e4,complete:null,success:null,type:"POST",error:null,"async":!0,data:{}},addParams:function(n){if(typeof n!="object")return this.messageErreur="Le moteur Ajax prend uniquement des objets JavaScript en paramètre.",-1;ajax.params=$.extend(ajax.params,n)},ajax:function(n){if(typeof n!="object")return this.messageErreur="Le moteur Ajax prend uniquement des objets JavaScript en paramètre.",this.erreur=!0,-1;this.callAjaxRequest(n)},callAjaxRequest:function(n){ajax.resultat="";var t={};return $.extend(t,ajax.params,n),this.execAjaxRequest(t),this.xhr},execAjaxRequest:function(n){var t=n.data;n.dataNonStringify||(t=JSON.stringify(t));this.xhr=$.ajax({contentType:n.contentType,dataType:n.dataType,timeout:n.timeout,"async":n.async,type:n.type,url:n.url,data:t,beforeSend:function(t,i){n.affMessageAttente;var r;return n.beforeSend&&(r=n.beforeSend(t,i)),r!==null&&r!==undefined?r:!0},success:function(t,i,r){var u=t,f=!1,e;u!==null&&typeof u=="string"&&u.indexOf("ListeErreurs")>0&&u.indexOf("ValeursRetour")>0&&(u=JSON.parse(u),n.dataType="json",f=!0);u!==null&&n.dataType!=="html"&&(e=/"\\\/(Date\(-?\d+\))\\\/"/g,typeof u=="string"?(u=u.replace(e,"new $1"),u=eval("("+u+")")):typeof u=="object"&&(u=AudeebleSanitize_JsonObjectDates(u)),ajax.resultat=u.ValeursRetour,ajax.erreur=u.Erreur,ajax.erreurNonBloquante=!u.ErreurBloquante,ajax.messageErreur=u.MessageErreur);n.success&&(f&&(n.dataType="html"),n.success(u,i,r))},error:function(t,i,r){n.error||AudeebleUI_DisplayModalError("<p>Une erreur est survenue lors de la requête Ajax.<\/p>","Erreur");n.error&&n.error(t,i,r)},complete:function(t,i){n.affMessageAttente;n.complete&&n.complete(t,i)}})}};